<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta charset="utf-8"/><title>Alterar senha</title></head>
<body>
<h1>Alterar senha</h1>

<div th:if="${error}" th:text="${error}" style="color:red;"></div>
<div th:if="${success}" th:text="${success}" style="color:green;"></div>

<div>
  <p>Usuário: <span th:text="${loggedUser.name}">Nome</span> (<span th:text="${loggedUser.email}">email</span>)</p>
</div>

<form th:action="@{/changePasswordLogged}" method="post">
  <!-- Mantive campo email para preservar lógica atual; você pode torná-lo hidden se preferir -->
  <input type="hidden" name="email" th:value="${loggedUser.email}" />

  <label>Senha atual:</label>
  <input type="password" name="oldPassword" required/>

  <label>Nova senha:</label>
  <input type="password" name="newPassword" required/>

  <button type="submit">Alterar senha</button>
</form>
</body>
</html>
